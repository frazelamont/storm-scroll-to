(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _stormScrollTo = require('./libs/storm-scroll-to');

var _stormScrollTo2 = _interopRequireDefault(_stormScrollTo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var onDOMContentLoadedTasks = [function () {
	var scrollTo = _stormScrollTo2.default.init('.js-scroll-to');
	console.log(scrollTo);
}];

if ('addEventListener' in window) window.addEventListener('DOMContentLoaded', function () {
	onDOMContentLoadedTasks.forEach(function (fn) {
		return fn();
	});
});

},{"./libs/storm-scroll-to":2}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
/**
 * @name storm-scroll-to: Smooth scroll anchor links, update the URL and focus on the first child node of the target
 * @version 0.2.1: Fri, 10 Feb 2017 17:25:24 GMT
 * @author mjbp
 * @license MIT
 */
var triggerEvents = ['click', 'keydown'],
    CONSTANTS = {
	EASING: {
		//https://github.com/danro/jquery-easing/blob/master/jquery.easing.js
		easeInQuad: function easeInQuad(t, b, c, d) {
			return c * (t /= d) * t + b;
		},
		easeOutQuad: function easeOutQuad(t, b, c, d) {
			return -c * (t /= d) * (t - 2) + b;
		},
		easeInOutQuad: function easeInOutQuad(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t + b;
			return -c / 2 * (--t * (t - 2) - 1) + b;
		},
		easeInCubic: function easeInCubic(t, b, c, d) {
			return c * (t /= d) * t * t + b;
		},
		easeOutCubic: function easeOutCubic(t, b, c, d) {
			return c * ((t = t / d - 1) * t * t + 1) + b;
		},
		easeInOutCubic: function easeInOutCubic(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;
			return c / 2 * ((t -= 2) * t * t + 2) + b;
		},
		easeInQuart: function easeInQuart(t, b, c, d) {
			return c * (t /= d) * t * t * t + b;
		},
		easeOutQuart: function easeOutQuart(t, b, c, d) {
			return -c * ((t = t / d - 1) * t * t * t - 1) + b;
		},
		easeInOutQuart: function easeInOutQuart(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;
			return -c / 2 * ((t -= 2) * t * t * t - 2) + b;
		},
		easeInQuint: function easeInQuint(t, b, c, d) {
			return c * ((t = t / d - 1) * t * t * t * t + 1) + b;
		},
		easeOutQuint: function easeOutQuint(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;
			return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;
		},
		easeInOutQuint: function easeInOutQuint(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;
			return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;
		}
	}
},
    defaults = {
	easing: 'easeInOutCubic',
	speed: 260, //duration to scroll the entire height of the document
	offset: 0,
	pushState: true,
	focus: true,
	callback: false
},
    StormScrollTo = {
	init: function init() {
		this.initNavItems();
		this.initListeners();
		this.initFocusable();
		return this;
	},
	initNavItems: function initNavItems() {
		this.navItems = this.DOMElements.map(function (item) {
			if (!document.querySelector(item.getAttribute('href'))) throw new Error('Scroll To cannot be initialised, a nav item target is missing');
			return {
				node: item,
				target: document.querySelector(item.getAttribute('href')) || null
			};
		});
	},
	initListeners: function initListeners() {
		var _this = this;

		this.navItems.forEach(function (el) {
			triggerEvents.forEach(function (ev) {
				el.node.addEventListener(ev, function (e) {
					e.preventDefault();
					_this.scrollTo(el);
				}, false);
			});
		});
	},
	initFocusable: function initFocusable() {
		if (!this.settings.focus) return;

		var getFocusableChildren = function getFocusableChildren(node) {
			var focusableElements = ['a[href]', 'area[href]', 'input:not([disabled])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', 'iframe', 'object', 'embed', '[contenteditable]', '[tabindex]:not([tabindex="-1"])'];

			return [].slice.call(node.querySelectorAll(focusableElements.join(','))).filter(function (child) {
				return !!(child.offsetWidth || child.offsetHeight || child.getClientRects().length);
			});
		};

		this.navItems.forEach(function (item) {
			item.focusableChildren = getFocusableChildren(item.target);
		});
	},
	scrollTo: function scrollTo(el) {
		var _this2 = this;

		var start = window.pageYOffset,
		    end = el.target.offsetTop - this.settings.offset,
		    change = end - start,
		    duration = this.settings.speed,
		    move = function move(amount) {
			document.documentElement.scrollTop = amount;
			document.body.parentNode.scrollTop = amount;
			document.body.scrollTop = amount;
		},
		    currentTime = 0,
		    increment = 16,
		    animate = function animate() {
			currentTime += increment;
			move(CONSTANTS.EASING[_this2.settings.easing](currentTime, start, change, duration));
			if (currentTime < duration) {
				window.requestAnimationFrame(animate.bind(_this2));
			} else {
				!!_this2.settings.pushState && !!window.history.pushState && window.history.pushState({ URL: el.node.getAttribute('href') }, '', el.node.getAttribute('href'));
				!!_this2.settings.focus && !!el.focusableChildren.length && window.setTimeout(function () {
					el.focusableChildren[0].focus();
				}, 0);
				!!_this2.settings.callback && _this2.settings.callback();
			}
		};
		animate();
	},
	destroy: function destroy() {
		var _this3 = this;

		this.navItems.forEach(function (el) {
			triggerEvents.forEach(function (ev) {
				el.node.removeEventListener(ev, function (e) {
					e.preventDefault();
					_this3.scrollTo(el);
				});
			});
		});
	}
};

var init = function init(sel, opts) {
	var els = [].slice.call(document.querySelectorAll(sel));

	if (!els.length) throw new Error('Scroll To cannot be initialised, no augmentable elements found');

	return Object.assign(Object.create(StormScrollTo), {
		DOMElements: els,
		settings: Object.assign({}, defaults, opts)
	}).init();
};

exports.default = { init: init };

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJleGFtcGxlL3NyYy9hcHAuanMiLCJleGFtcGxlL3NyYy9saWJzL3N0b3JtLXNjcm9sbC10by5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7OztBQUVBLElBQU0sMEJBQTBCLENBQUMsWUFBTTtBQUN0QyxLQUFJLFdBQVcsd0JBQVMsSUFBVCxDQUFjLGVBQWQsQ0FBZjtBQUNBLFNBQVEsR0FBUixDQUFZLFFBQVo7QUFDQSxDQUgrQixDQUFoQzs7QUFLQSxJQUFHLHNCQUFzQixNQUF6QixFQUFpQyxPQUFPLGdCQUFQLENBQXdCLGtCQUF4QixFQUE0QyxZQUFNO0FBQUUseUJBQXdCLE9BQXhCLENBQWdDLFVBQUMsRUFBRDtBQUFBLFNBQVEsSUFBUjtBQUFBLEVBQWhDO0FBQWdELENBQXBHOzs7Ozs7OztBQ1BqQzs7Ozs7O0FBTUEsSUFBTSxnQkFBZ0IsQ0FBQyxPQUFELEVBQVUsU0FBVixDQUF0QjtBQUFBLElBQ0MsWUFBWTtBQUNYLFNBQVE7QUFBQztBQUNSLFlBRE8sc0JBQ0ksQ0FESixFQUNPLENBRFAsRUFDVSxDQURWLEVBQ2EsQ0FEYixFQUNnQjtBQUFFLFVBQU8sS0FBRyxLQUFHLENBQU4sSUFBUyxDQUFULEdBQWEsQ0FBcEI7QUFBd0IsR0FEMUM7QUFFUCxhQUZPLHVCQUVNLENBRk4sRUFFUyxDQUZULEVBRVksQ0FGWixFQUVlLENBRmYsRUFFa0I7QUFBRSxVQUFPLENBQUMsQ0FBRCxJQUFLLEtBQUcsQ0FBUixLQUFZLElBQUUsQ0FBZCxJQUFtQixDQUExQjtBQUE4QixHQUZsRDtBQUdQLGVBSE8seUJBR1EsQ0FIUixFQUdXLENBSFgsRUFHYyxDQUhkLEVBR2lCLENBSGpCLEVBR29CO0FBQzFCLE9BQUksQ0FBQyxLQUFHLElBQUUsQ0FBTixJQUFXLENBQWYsRUFBa0IsT0FBTyxJQUFFLENBQUYsR0FBSSxDQUFKLEdBQU0sQ0FBTixHQUFVLENBQWpC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LEVBakVjO0FBa0VmLFFBbEVlLHFCQWtFTjtBQUFBOztBQUNSLE9BQUssUUFBTCxDQUFjLE9BQWQsQ0FBc0IsY0FBTTtBQUMzQixpQkFBYyxPQUFkLENBQXNCLGNBQU07QUFDM0IsT0FBRyxJQUFILENBQVEsbUJBQVIsQ0FBNEIsRUFBNUIsRUFBZ0MsYUFBSztBQUNwQyxPQUFFLGNBQUY7QUFDQSxZQUFLLFFBQUwsQ0FBYyxFQUFkO0FBQ0EsS0FIRDtBQUlBLElBTEQ7QUFNQSxHQVBEO0FBUUE7QUEzRWMsQ0F4Q2pCOztBQXNIQSxJQUFNLE9BQU8sU0FBUCxJQUFPLENBQUMsR0FBRCxFQUFNLElBQU4sRUFBZTtBQUMzQixLQUFJLE1BQU0sR0FBRyxLQUFILENBQVMsSUFBVCxDQUFjLFNBQVMsZ0JBQVQsQ0FBMEIsR0FBMUIsQ0FBZCxDQUFWOztBQUVBLEtBQUcsQ0FBQyxJQUFJLE1BQVIsRUFBZ0IsTUFBTSxJQUFJLEtBQUosQ0FBVSxnRUFBVixDQUFOOztBQUVoQixRQUFPLE9BQU8sTUFBUCxDQUFjLE9BQU8sTUFBUCxDQUFjLGFBQWQsQ0FBZCxFQUE0QztBQUNsRCxlQUFhLEdBRHFDO0FBRWxELFlBQVUsT0FBTyxNQUFQLENBQWMsRUFBZCxFQUFrQixRQUFsQixFQUE0QixJQUE1QjtBQUZ3QyxFQUE1QyxFQUdKLElBSEksRUFBUDtBQUlBLENBVEQ7O2tCQVdlLEVBQUUsVUFBRixFIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBTY3JvbGxUbyBmcm9tICcuL2xpYnMvc3Rvcm0tc2Nyb2xsLXRvJztcblxuY29uc3Qgb25ET01Db250ZW50TG9hZGVkVGFza3MgPSBbKCkgPT4ge1xuXHRsZXQgc2Nyb2xsVG8gPSBTY3JvbGxUby5pbml0KCcuanMtc2Nyb2xsLXRvJyk7XG5cdGNvbnNvbGUubG9nKHNjcm9sbFRvKTtcbn1dO1xuICAgIFxuaWYoJ2FkZEV2ZW50TGlzdGVuZXInIGluIHdpbmRvdykgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7IG9uRE9NQ29udGVudExvYWRlZFRhc2tzLmZvckVhY2goKGZuKSA9PiBmbigpKTsgfSk7IiwiLyoqXG4gKiBAbmFtZSBzdG9ybS1zY3JvbGwtdG86IFNtb290aCBzY3JvbGwgYW5jaG9yIGxpbmtzLCB1cGRhdGUgdGhlIFVSTCBhbmQgZm9jdXMgb24gdGhlIGZpcnN0IGNoaWxkIG5vZGUgb2YgdGhlIHRhcmdldFxuICogQHZlcnNpb24gMC4yLjE6IEZyaSwgMTAgRmViIDIwMTcgMTc6MjU6MjQgR01UXG4gKiBAYXV0aG9yIG1qYnBcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5jb25zdCB0cmlnZ2VyRXZlbnRzID0gWydjbGljaycsICdrZXlkb3duJ10sXG5cdENPTlNUQU5UUyA9IHtcblx0XHRFQVNJTkc6IHsvL2h0dHBzOi8vZ2l0aHViLmNvbS9kYW5yby9qcXVlcnktZWFzaW5nL2Jsb2IvbWFzdGVyL2pxdWVyeS5lYXNpbmcuanNcblx0XHRcdGVhc2VJblF1YWQodCwgYiwgYywgZCkgeyByZXR1cm4gYyoodC89ZCkqdCArIGI7IH0sXG5cdFx0XHRlYXNlT3V0UXVhZCAodCwgYiwgYywgZCkgeyByZXR1cm4gLWMgKih0Lz1kKSoodC0yKSArIGI7IH0sXG5cdFx0XHRlYXNlSW5PdXRRdWFkICh0LCBiLCBjLCBkKSB7XG5cdFx0XHRcdGlmICgodC89ZC8yKSA8IDEpIHJldHVybiBjLzIqdCp0ICsgYjtcblx0XHRcdFx0cmV0dXJuIC1jLzIgKiAoKC0tdCkqKHQtMikgLSAxKSArIGI7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluQ3ViaWMgKHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMqKHQvPWQpKnQqdCArIGI7IH0sXG5cdFx0XHRlYXNlT3V0Q3ViaWMgKHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMqKCh0PXQvZC0xKSp0KnQgKyAxKSArIGI7IH0sXG5cdFx0XHRlYXNlSW5PdXRDdWJpYyAodCwgYiwgYywgZCkge1xuXHRcdFx0XHRpZiAoKHQvPWQvMikgPCAxKSByZXR1cm4gYy8yKnQqdCp0ICsgYjtcblx0XHRcdFx0cmV0dXJuIGMvMiooKHQtPTIpKnQqdCArIDIpICsgYjtcblx0XHRcdH0sXG5cdFx0XHRlYXNlSW5RdWFydCAodCwgYiwgYywgZCkgeyByZXR1cm4gYyoodC89ZCkqdCp0KnQgKyBiOyB9LFxuXHRcdFx0ZWFzZU91dFF1YXJ0ICh0LCBiLCBjLCBkKSB7IHJldHVybiAtYyAqICgodD10L2QtMSkqdCp0KnQgLSAxKSArIGI7IH0sXG5cdFx0XHRlYXNlSW5PdXRRdWFydCAodCwgYiwgYywgZCkge1xuXHRcdFx0XHRpZiAoKHQvPWQvMikgPCAxKSByZXR1cm4gYy8yKnQqdCp0KnQgKyBiO1xuXHRcdFx0XHRyZXR1cm4gLWMvMiAqICgodC09MikqdCp0KnQgLSAyKSArIGI7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluUXVpbnQgKHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMqKCh0PXQvZC0xKSp0KnQqdCp0ICsgMSkgKyBiOyB9LFxuXHRcdFx0ZWFzZU91dFF1aW50ICh0LCBiLCBjLCBkKSB7XG5cdFx0XHRcdGlmICgodC89ZC8yKSA8IDEpIHJldHVybiBjLzIqdCp0KnQqdCp0ICsgYjtcblx0XHRcdFx0cmV0dXJuIGMvMiooKHQtPTIpKnQqdCp0KnQgKyAyKSArIGI7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluT3V0UXVpbnQgKHQsIGIsIGMsIGQpIHtcblx0XHRcdFx0aWYgKCh0Lz1kLzIpIDwgMSkgcmV0dXJuIGMvMip0KnQqdCp0KnQgKyBiO1xuXHRcdFx0XHRyZXR1cm4gYy8yKigodC09MikqdCp0KnQqdCArIDIpICsgYjtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdGRlZmF1bHRzID0ge1xuXHRcdGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcblx0XHRzcGVlZDogMjYwLC8vZHVyYXRpb24gdG8gc2Nyb2xsIHRoZSBlbnRpcmUgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudFxuXHRcdG9mZnNldDogMCxcblx0XHRwdXNoU3RhdGU6IHRydWUsXG5cdFx0Zm9jdXM6IHRydWUsXG5cdFx0Y2FsbGJhY2s6IGZhbHNlXG5cdH0sXG5cdFN0b3JtU2Nyb2xsVG8gPSB7XG5cdFx0aW5pdCgpIHtcblx0XHRcdHRoaXMuaW5pdE5hdkl0ZW1zKCk7XG5cdFx0XHR0aGlzLmluaXRMaXN0ZW5lcnMoKTtcblx0XHRcdHRoaXMuaW5pdEZvY3VzYWJsZSgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRpbml0TmF2SXRlbXMoKXtcblx0XHRcdHRoaXMubmF2SXRlbXMgPSB0aGlzLkRPTUVsZW1lbnRzLm1hcChpdGVtID0+IHtcblx0XHRcdFx0aWYoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaXRlbS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkpIHRocm93IG5ldyBFcnJvcignU2Nyb2xsIFRvIGNhbm5vdCBiZSBpbml0aWFsaXNlZCwgYSBuYXYgaXRlbSB0YXJnZXQgaXMgbWlzc2luZycpO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdG5vZGU6IGl0ZW0sXG5cdFx0XHRcdFx0dGFyZ2V0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGl0ZW0uZ2V0QXR0cmlidXRlKCdocmVmJykpIHx8IG51bGxcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0aW5pdExpc3RlbmVycygpe1xuXHRcdFx0dGhpcy5uYXZJdGVtcy5mb3JFYWNoKGVsID0+IHtcblx0XHRcdFx0dHJpZ2dlckV2ZW50cy5mb3JFYWNoKGV2ID0+IHtcblx0XHRcdFx0XHRlbC5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXYsIGUgPT4ge1xuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0dGhpcy5zY3JvbGxUbyhlbCk7XG5cdFx0XHRcdFx0fSwgZmFsc2UpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0aW5pdEZvY3VzYWJsZSgpe1xuXHRcdFx0aWYoIXRoaXMuc2V0dGluZ3MuZm9jdXMpIHJldHVybjsgXG5cdFx0XHRcblx0XHRcdGxldCBnZXRGb2N1c2FibGVDaGlsZHJlbiA9IG5vZGUgPT4ge1xuXHRcdFx0XHRsZXQgZm9jdXNhYmxlRWxlbWVudHMgPSBbJ2FbaHJlZl0nLCAnYXJlYVtocmVmXScsICdpbnB1dDpub3QoW2Rpc2FibGVkXSknLCAnc2VsZWN0Om5vdChbZGlzYWJsZWRdKScsICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSknLCAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKScsICdpZnJhbWUnLCAnb2JqZWN0JywgJ2VtYmVkJywgJ1tjb250ZW50ZWRpdGFibGVdJywgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKSddO1xuXG5cdFx0XHRcdHJldHVybiBbXS5zbGljZS5jYWxsKG5vZGUucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVFbGVtZW50cy5qb2luKCcsJykpKS5maWx0ZXIoY2hpbGQgPT4ge1xuXHRcdFx0XHRcdHJldHVybiAhIShjaGlsZC5vZmZzZXRXaWR0aCB8fCBjaGlsZC5vZmZzZXRIZWlnaHQgfHwgY2hpbGQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cblx0XHRcdHRoaXMubmF2SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdFx0aXRlbS5mb2N1c2FibGVDaGlsZHJlbiA9IGdldEZvY3VzYWJsZUNoaWxkcmVuKGl0ZW0udGFyZ2V0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0c2Nyb2xsVG8oZWwpe1xuXHRcdFx0bGV0IHN0YXJ0ID0gd2luZG93LnBhZ2VZT2Zmc2V0LFxuXHRcdFx0XHRlbmQgPSBlbC50YXJnZXQub2Zmc2V0VG9wIC0gdGhpcy5zZXR0aW5ncy5vZmZzZXQsXG5cdFx0XHRcdGNoYW5nZSA9IGVuZCAtIHN0YXJ0LFxuXHRcdFx0XHRkdXJhdGlvbiA9IHRoaXMuc2V0dGluZ3Muc3BlZWQsXG5cdFx0XHRcdG1vdmUgPSBhbW91bnQgPT4ge1xuXHRcdFx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBhbW91bnQ7XG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbFRvcCA9IGFtb3VudDtcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IGFtb3VudDtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3VycmVudFRpbWUgPSAwLFxuXHRcdFx0XHRpbmNyZW1lbnQgPSAxNixcblx0XHRcdFx0YW5pbWF0ZSA9ICgpID0+IHtcblx0XHRcdFx0XHRjdXJyZW50VGltZSArPSBpbmNyZW1lbnQ7XG5cdFx0XHRcdFx0bW92ZShDT05TVEFOVFMuRUFTSU5HW3RoaXMuc2V0dGluZ3MuZWFzaW5nXShjdXJyZW50VGltZSwgc3RhcnQsIGNoYW5nZSwgZHVyYXRpb24pKTtcblx0XHRcdFx0XHRpZiAoY3VycmVudFRpbWUgPCBkdXJhdGlvbikge1xuXHRcdFx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlLmJpbmQodGhpcykpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQoISF0aGlzLnNldHRpbmdzLnB1c2hTdGF0ZSAmJiAhIXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSkgJiYgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHsgVVJMOiBlbC5ub2RlLmdldEF0dHJpYnV0ZSgnaHJlZicpfSwgJycsIGVsLm5vZGUuZ2V0QXR0cmlidXRlKCdocmVmJykpO1xuXHRcdFx0XHRcdFx0KCEhdGhpcy5zZXR0aW5ncy5mb2N1cyAmJiAhIWVsLmZvY3VzYWJsZUNoaWxkcmVuLmxlbmd0aCkgJiYgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge2VsLmZvY3VzYWJsZUNoaWxkcmVuWzBdLmZvY3VzKCk7fSwgMCk7XG5cdFx0XHRcdFx0XHQhIXRoaXMuc2V0dGluZ3MuY2FsbGJhY2sgJiYgdGhpcy5zZXR0aW5ncy5jYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdGFuaW1hdGUoKTtcblx0XHR9LFxuXHRcdGRlc3Ryb3koKXtcblx0XHRcdHRoaXMubmF2SXRlbXMuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRcdHRyaWdnZXJFdmVudHMuZm9yRWFjaChldiA9PiB7XG5cdFx0XHRcdFx0ZWwubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2LCBlID0+IHtcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHRoaXMuc2Nyb2xsVG8oZWwpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuY29uc3QgaW5pdCA9IChzZWwsIG9wdHMpID0+IHtcblx0bGV0IGVscyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWwpKTtcblx0XG5cdGlmKCFlbHMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ1Njcm9sbCBUbyBjYW5ub3QgYmUgaW5pdGlhbGlzZWQsIG5vIGF1Z21lbnRhYmxlIGVsZW1lbnRzIGZvdW5kJyk7XG5cblx0cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShTdG9ybVNjcm9sbFRvKSwge1xuXHRcdERPTUVsZW1lbnRzOiBlbHMsXG5cdFx0c2V0dGluZ3M6IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRzKVxuXHR9KS5pbml0KCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfTsiXX0=
