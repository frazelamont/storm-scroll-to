(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _stormScrollTo = require('./libs/storm-scroll-to');

var _stormScrollTo2 = _interopRequireDefault(_stormScrollTo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var onDOMContentLoadedTasks = [function () {
	var scrollTo = _stormScrollTo2.default.init('.js-scroll-to');
	console.log(scrollTo);
}];

if ('addEventListener' in window) window.addEventListener('DOMContentLoaded', function () {
	onDOMContentLoadedTasks.forEach(function (fn) {
		return fn();
	});
});

},{"./libs/storm-scroll-to":2}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
/**
 * @name storm-scrollto: Smooth scroll anchor links, update the URL ad focus on the first child node of the target
 * @version 1.0.0: Fri, 17 Mar 2017 17:33:32 GMT
 * @author stormid
 * @license MIT
 */
var triggerEvents = ['click', 'keydown'],
    CONSTANTS = {
	EASING: {
		//https://github.com/danro/jquery-easing/blob/master/jquery.easing.js
		easeInQuad: function easeInQuad(t, b, c, d) {
			return c * (t /= d) * t + b;
		},
		easeOutQuad: function easeOutQuad(t, b, c, d) {
			return -c * (t /= d) * (t - 2) + b;
		},
		easeInOutQuad: function easeInOutQuad(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t + b;
			return -c / 2 * (--t * (t - 2) - 1) + b;
		},
		easeInCubic: function easeInCubic(t, b, c, d) {
			return c * (t /= d) * t * t + b;
		},
		easeOutCubic: function easeOutCubic(t, b, c, d) {
			return c * ((t = t / d - 1) * t * t + 1) + b;
		},
		easeInOutCubic: function easeInOutCubic(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;
			return c / 2 * ((t -= 2) * t * t + 2) + b;
		},
		easeInQuart: function easeInQuart(t, b, c, d) {
			return c * (t /= d) * t * t * t + b;
		},
		easeOutQuart: function easeOutQuart(t, b, c, d) {
			return -c * ((t = t / d - 1) * t * t * t - 1) + b;
		},
		easeInOutQuart: function easeInOutQuart(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;
			return -c / 2 * ((t -= 2) * t * t * t - 2) + b;
		},
		easeInQuint: function easeInQuint(t, b, c, d) {
			return c * ((t = t / d - 1) * t * t * t * t + 1) + b;
		},
		easeOutQuint: function easeOutQuint(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;
			return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;
		},
		easeInOutQuint: function easeInOutQuint(t, b, c, d) {
			if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;
			return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;
		}
	}
},
    defaults = {
	easing: 'easeInOutCubic',
	speed: 260, //duration to scroll the entire height of the document
	offset: 0,
	pushState: true,
	focus: true,
	callback: false
},
    StormScrollTo = {
	init: function init() {
		this.initNavItems();
		this.initListeners();
		this.initFocusable();
		return this;
	},
	initNavItems: function initNavItems() {
		this.navItems = this.DOMElements.map(function (item) {
			if (!document.querySelector(item.getAttribute('href'))) throw new Error('Scroll To cannot be initialised, a nav item target is missing');
			return {
				node: item,
				target: document.querySelector(item.getAttribute('href')) || null
			};
		});
	},
	initListeners: function initListeners() {
		var _this = this;

		this.navItems.forEach(function (el) {
			triggerEvents.forEach(function (ev) {
				el.node.addEventListener(ev, function (e) {
					e.preventDefault();
					_this.scrollTo(el);
				}, false);
			});
		});
	},
	initFocusable: function initFocusable() {
		if (!this.settings.focus) return;

		var getFocusableChildren = function getFocusableChildren(node) {
			var focusableElements = ['a[href]', 'area[href]', 'input:not([disabled])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', 'iframe', 'object', 'embed', '[contenteditable]', '[tabindex]:not([tabindex="-1"])'];

			return [].slice.call(node.querySelectorAll(focusableElements.join(','))).filter(function (child) {
				return !!(child.offsetWidth || child.offsetHeight || child.getClientRects().length);
			});
		};

		this.navItems.forEach(function (item) {
			item.focusableChildren = getFocusableChildren(item.target);
		});
	},
	scrollTo: function scrollTo(el) {
		var _this2 = this;

		var start = window.pageYOffset,
		    end = el.target.offsetTop - this.settings.offset,
		    change = end - start,
		    duration = this.settings.speed,
		    move = function move(amount) {
			document.documentElement.scrollTop = amount;
			document.body.parentNode.scrollTop = amount;
			document.body.scrollTop = amount;
		},
		    currentTime = 0,
		    increment = 16,
		    animate = function animate() {
			currentTime += increment;
			move(CONSTANTS.EASING[_this2.settings.easing](currentTime, start, change, duration));
			if (currentTime < duration) {
				window.requestAnimationFrame(animate.bind(_this2));
			} else {
				!!_this2.settings.pushState && !!window.history.pushState && window.history.pushState({ URL: el.node.getAttribute('href') }, '', el.node.getAttribute('href'));
				!!_this2.settings.focus && !!el.focusableChildren.length && window.setTimeout(function () {
					el.focusableChildren[0].focus();
				}, 0);
				!!_this2.settings.callback && _this2.settings.callback();
			}
		};
		animate();
	},
	destroy: function destroy() {
		var _this3 = this;

		this.navItems.forEach(function (el) {
			triggerEvents.forEach(function (ev) {
				el.node.removeEventListener(ev, function (e) {
					e.preventDefault();
					_this3.scrollTo(el);
				});
			});
		});
	}
};

var init = function init(sel, opts) {
	var els = [].slice.call(document.querySelectorAll(sel));

	if (!els.length) throw new Error('Scroll To cannot be initialised, no augmentable elements found');

	return Object.assign(Object.create(StormScrollTo), {
		DOMElements: els,
		settings: Object.assign({}, defaults, opts)
	}).init();
};

exports.default = { init: init };

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJleGFtcGxlL3NyYy9hcHAuanMiLCJleGFtcGxlL3NyYy9saWJzL3N0b3JtLXNjcm9sbC10by5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7OztBQUVBLElBQU0sMEJBQTBCLENBQUMsWUFBTTtBQUN0QyxLQUFJLFdBQVcsd0JBQVMsSUFBVCxDQUFjLGVBQWQsQ0FBZjtBQUNBLFNBQVEsR0FBUixDQUFZLFFBQVo7QUFDQSxDQUgrQixDQUFoQzs7QUFLQSxJQUFHLHNCQUFzQixNQUF6QixFQUFpQyxPQUFPLGdCQUFQLENBQXdCLGtCQUF4QixFQUE0QyxZQUFNO0FBQUUseUJBQXdCLE9BQXhCLENBQWdDLFVBQUMsRUFBRDtBQUFBLFNBQVEsSUFBUjtBQUFBLEVBQWhDO0FBQWdELENBQXBHOzs7Ozs7OztBQ1BqQzs7Ozs7O0FBTUEsSUFBTSxnQkFBZ0IsQ0FBQyxPQUFELEVBQVUsU0FBVixDQUF0QjtBQUFBLElBQ0MsWUFBWTtBQUNYLFNBQVE7QUFBQztBQUNSLFlBRE8sc0JBQ0ksQ0FESixFQUNPLENBRFAsRUFDVSxDQURWLEVBQ2EsQ0FEYixFQUNnQjtBQUFFLFVBQU8sS0FBRyxLQUFHLENBQU4sSUFBUyxDQUFULEdBQWEsQ0FBcEI7QUFBd0IsR0FEMUM7QUFFUCxhQUZPLHVCQUVNLENBRk4sRUFFUyxDQUZULEVBRVksQ0FGWixFQUVlLENBRmYsRUFFa0I7QUFBRSxVQUFPLENBQUMsQ0FBRCxJQUFLLEtBQUcsQ0FBUixLQUFZLElBQUUsQ0FBZCxJQUFtQixDQUExQjtBQUE4QixHQUZsRDtBQUdQLGVBSE8seUJBR1EsQ0FIUixFQUdXLENBSFgsRUFHYyxDQUhkLEVBR2lCLENBSGpCLEVBR29CO0FBQzFCLE9BQUksQ0FBQyxLQUFHLElBQUUsQ0FBTixJQUFXLENBQWYsRUFBa0IsT0FBTyxJQUFFLENBQUYsR0FBSSxDQUFKLEdBQU0sQ0FBTixHQUFVLENBQWpC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LEVBakVjO0FBa0VmLFFBbEVlLHFCQWtFTjtBQUFBOztBQUNSLE9BQUssUUFBTCxDQUFjLE9BQWQsQ0FBc0IsY0FBTTtBQUMzQixpQkFBYyxPQUFkLENBQXNCLGNBQU07QUFDM0IsT0FBRyxJQUFILENBQVEsbUJBQVIsQ0FBNEIsRUFBNUIsRUFBZ0MsYUFBSztBQUNwQyxPQUFFLGNBQUY7QUFDQSxZQUFLLFFBQUwsQ0FBYyxFQUFkO0FBQ0EsS0FIRDtBQUlBLElBTEQ7QUFNQSxHQVBEO0FBUUE7QUEzRWMsQ0F4Q2pCOztBQXNIQSxJQUFNLE9BQU8sU0FBUCxJQUFPLENBQUMsR0FBRCxFQUFNLElBQU4sRUFBZTtBQUMzQixLQUFJLE1BQU0sR0FBRyxLQUFILENBQVMsSUFBVCxDQUFjLFNBQVMsZ0JBQVQsQ0FBMEIsR0FBMUIsQ0FBZCxDQUFWOztBQUVBLEtBQUcsQ0FBQyxJQUFJLE1BQVIsRUFBZ0IsTUFBTSxJQUFJLEtBQUosQ0FBVSxnRUFBVixDQUFOOztBQUVoQixRQUFPLE9BQU8sTUFBUCxDQUFjLE9BQU8sTUFBUCxDQUFjLGFBQWQsQ0FBZCxFQUE0QztBQUNsRCxlQUFhLEdBRHFDO0FBRWxELFlBQVUsT0FBTyxNQUFQLENBQWMsRUFBZCxFQUFrQixRQUFsQixFQUE0QixJQUE1QjtBQUZ3QyxFQUE1QyxFQUdKLElBSEksRUFBUDtBQUlBLENBVEQ7O2tCQVdlLEVBQUUsVUFBRixFIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBTY3JvbGxUbyBmcm9tICcuL2xpYnMvc3Rvcm0tc2Nyb2xsLXRvJztcblxuY29uc3Qgb25ET01Db250ZW50TG9hZGVkVGFza3MgPSBbKCkgPT4ge1xuXHRsZXQgc2Nyb2xsVG8gPSBTY3JvbGxUby5pbml0KCcuanMtc2Nyb2xsLXRvJyk7XG5cdGNvbnNvbGUubG9nKHNjcm9sbFRvKTtcbn1dO1xuICAgIFxuaWYoJ2FkZEV2ZW50TGlzdGVuZXInIGluIHdpbmRvdykgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7IG9uRE9NQ29udGVudExvYWRlZFRhc2tzLmZvckVhY2goKGZuKSA9PiBmbigpKTsgfSk7IiwiLyoqXG4gKiBAbmFtZSBzdG9ybS1zY3JvbGx0bzogU21vb3RoIHNjcm9sbCBhbmNob3IgbGlua3MsIHVwZGF0ZSB0aGUgVVJMIGFkIGZvY3VzIG9uIHRoZSBmaXJzdCBjaGlsZCBub2RlIG9mIHRoZSB0YXJnZXRcbiAqIEB2ZXJzaW9uIDEuMC4wOiBGcmksIDE3IE1hciAyMDE3IDE3OjMzOjMyIEdNVFxuICogQGF1dGhvciBzdG9ybWlkXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuY29uc3QgdHJpZ2dlckV2ZW50cyA9IFsnY2xpY2snLCAna2V5ZG93biddLFxuXHRDT05TVEFOVFMgPSB7XG5cdFx0RUFTSU5HOiB7Ly9odHRwczovL2dpdGh1Yi5jb20vZGFucm8vanF1ZXJ5LWVhc2luZy9ibG9iL21hc3Rlci9qcXVlcnkuZWFzaW5nLmpzXG5cdFx0XHRlYXNlSW5RdWFkKHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMqKHQvPWQpKnQgKyBiOyB9LFxuXHRcdFx0ZWFzZU91dFF1YWQgKHQsIGIsIGMsIGQpIHsgcmV0dXJuIC1jICoodC89ZCkqKHQtMikgKyBiOyB9LFxuXHRcdFx0ZWFzZUluT3V0UXVhZCAodCwgYiwgYywgZCkge1xuXHRcdFx0XHRpZiAoKHQvPWQvMikgPCAxKSByZXR1cm4gYy8yKnQqdCArIGI7XG5cdFx0XHRcdHJldHVybiAtYy8yICogKCgtLXQpKih0LTIpIC0gMSkgKyBiO1xuXHRcdFx0fSxcblx0XHRcdGVhc2VJbkN1YmljICh0LCBiLCBjLCBkKSB7IHJldHVybiBjKih0Lz1kKSp0KnQgKyBiOyB9LFxuXHRcdFx0ZWFzZU91dEN1YmljICh0LCBiLCBjLCBkKSB7IHJldHVybiBjKigodD10L2QtMSkqdCp0ICsgMSkgKyBiOyB9LFxuXHRcdFx0ZWFzZUluT3V0Q3ViaWMgKHQsIGIsIGMsIGQpIHtcblx0XHRcdFx0aWYgKCh0Lz1kLzIpIDwgMSkgcmV0dXJuIGMvMip0KnQqdCArIGI7XG5cdFx0XHRcdHJldHVybiBjLzIqKCh0LT0yKSp0KnQgKyAyKSArIGI7XG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluUXVhcnQgKHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMqKHQvPWQpKnQqdCp0ICsgYjsgfSxcblx0XHRcdGVhc2VPdXRRdWFydCAodCwgYiwgYywgZCkgeyByZXR1cm4gLWMgKiAoKHQ9dC9kLTEpKnQqdCp0IC0gMSkgKyBiOyB9LFxuXHRcdFx0ZWFzZUluT3V0UXVhcnQgKHQsIGIsIGMsIGQpIHtcblx0XHRcdFx0aWYgKCh0Lz1kLzIpIDwgMSkgcmV0dXJuIGMvMip0KnQqdCp0ICsgYjtcblx0XHRcdFx0cmV0dXJuIC1jLzIgKiAoKHQtPTIpKnQqdCp0IC0gMikgKyBiO1xuXHRcdFx0fSxcblx0XHRcdGVhc2VJblF1aW50ICh0LCBiLCBjLCBkKSB7IHJldHVybiBjKigodD10L2QtMSkqdCp0KnQqdCArIDEpICsgYjsgfSxcblx0XHRcdGVhc2VPdXRRdWludCAodCwgYiwgYywgZCkge1xuXHRcdFx0XHRpZiAoKHQvPWQvMikgPCAxKSByZXR1cm4gYy8yKnQqdCp0KnQqdCArIGI7XG5cdFx0XHRcdHJldHVybiBjLzIqKCh0LT0yKSp0KnQqdCp0ICsgMikgKyBiO1xuXHRcdFx0fSxcblx0XHRcdGVhc2VJbk91dFF1aW50ICh0LCBiLCBjLCBkKSB7XG5cdFx0XHRcdGlmICgodC89ZC8yKSA8IDEpIHJldHVybiBjLzIqdCp0KnQqdCp0ICsgYjtcblx0XHRcdFx0cmV0dXJuIGMvMiooKHQtPTIpKnQqdCp0KnQgKyAyKSArIGI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRkZWZhdWx0cyA9IHtcblx0XHRlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG5cdFx0c3BlZWQ6IDI2MCwvL2R1cmF0aW9uIHRvIHNjcm9sbCB0aGUgZW50aXJlIGhlaWdodCBvZiB0aGUgZG9jdW1lbnRcblx0XHRvZmZzZXQ6IDAsXG5cdFx0cHVzaFN0YXRlOiB0cnVlLFxuXHRcdGZvY3VzOiB0cnVlLFxuXHRcdGNhbGxiYWNrOiBmYWxzZVxuXHR9LFxuXHRTdG9ybVNjcm9sbFRvID0ge1xuXHRcdGluaXQoKSB7XG5cdFx0XHR0aGlzLmluaXROYXZJdGVtcygpO1xuXHRcdFx0dGhpcy5pbml0TGlzdGVuZXJzKCk7XG5cdFx0XHR0aGlzLmluaXRGb2N1c2FibGUoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0aW5pdE5hdkl0ZW1zKCl7XG5cdFx0XHR0aGlzLm5hdkl0ZW1zID0gdGhpcy5ET01FbGVtZW50cy5tYXAoaXRlbSA9PiB7XG5cdFx0XHRcdGlmKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGl0ZW0uZ2V0QXR0cmlidXRlKCdocmVmJykpKSB0aHJvdyBuZXcgRXJyb3IoJ1Njcm9sbCBUbyBjYW5ub3QgYmUgaW5pdGlhbGlzZWQsIGEgbmF2IGl0ZW0gdGFyZ2V0IGlzIG1pc3NpbmcnKTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRub2RlOiBpdGVtLFxuXHRcdFx0XHRcdHRhcmdldDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpdGVtLmdldEF0dHJpYnV0ZSgnaHJlZicpKSB8fCBudWxsXG5cdFx0XHRcdH07XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGluaXRMaXN0ZW5lcnMoKXtcblx0XHRcdHRoaXMubmF2SXRlbXMuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRcdHRyaWdnZXJFdmVudHMuZm9yRWFjaChldiA9PiB7XG5cdFx0XHRcdFx0ZWwubm9kZS5hZGRFdmVudExpc3RlbmVyKGV2LCBlID0+IHtcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHRoaXMuc2Nyb2xsVG8oZWwpO1xuXHRcdFx0XHRcdH0sIGZhbHNlKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGluaXRGb2N1c2FibGUoKXtcblx0XHRcdGlmKCF0aGlzLnNldHRpbmdzLmZvY3VzKSByZXR1cm47IFxuXHRcdFx0XG5cdFx0XHRsZXQgZ2V0Rm9jdXNhYmxlQ2hpbGRyZW4gPSBub2RlID0+IHtcblx0XHRcdFx0bGV0IGZvY3VzYWJsZUVsZW1lbnRzID0gWydhW2hyZWZdJywgJ2FyZWFbaHJlZl0nLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pJywgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSknLCAndGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pJywgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSknLCAnaWZyYW1lJywgJ29iamVjdCcsICdlbWJlZCcsICdbY29udGVudGVkaXRhYmxlXScsICdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknXTtcblxuXHRcdFx0XHRyZXR1cm4gW10uc2xpY2UuY2FsbChub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlRWxlbWVudHMuam9pbignLCcpKSkuZmlsdGVyKGNoaWxkID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gISEoY2hpbGQub2Zmc2V0V2lkdGggfHwgY2hpbGQub2Zmc2V0SGVpZ2h0IHx8IGNoaWxkLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLm5hdkl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRcdGl0ZW0uZm9jdXNhYmxlQ2hpbGRyZW4gPSBnZXRGb2N1c2FibGVDaGlsZHJlbihpdGVtLnRhcmdldCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdHNjcm9sbFRvKGVsKXtcblx0XHRcdGxldCBzdGFydCA9IHdpbmRvdy5wYWdlWU9mZnNldCxcblx0XHRcdFx0ZW5kID0gZWwudGFyZ2V0Lm9mZnNldFRvcCAtIHRoaXMuc2V0dGluZ3Mub2Zmc2V0LFxuXHRcdFx0XHRjaGFuZ2UgPSBlbmQgLSBzdGFydCxcblx0XHRcdFx0ZHVyYXRpb24gPSB0aGlzLnNldHRpbmdzLnNwZWVkLFxuXHRcdFx0XHRtb3ZlID0gYW1vdW50ID0+IHtcblx0XHRcdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gYW1vdW50O1xuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxUb3AgPSBhbW91bnQ7XG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBhbW91bnQ7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGN1cnJlbnRUaW1lID0gMCxcblx0XHRcdFx0aW5jcmVtZW50ID0gMTYsXG5cdFx0XHRcdGFuaW1hdGUgPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y3VycmVudFRpbWUgKz0gaW5jcmVtZW50O1xuXHRcdFx0XHRcdG1vdmUoQ09OU1RBTlRTLkVBU0lOR1t0aGlzLnNldHRpbmdzLmVhc2luZ10oY3VycmVudFRpbWUsIHN0YXJ0LCBjaGFuZ2UsIGR1cmF0aW9uKSk7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRUaW1lIDwgZHVyYXRpb24pIHtcblx0XHRcdFx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZS5iaW5kKHRoaXMpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0KCEhdGhpcy5zZXR0aW5ncy5wdXNoU3RhdGUgJiYgISF3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpICYmIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7IFVSTDogZWwubm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKX0sICcnLCBlbC5ub2RlLmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcblx0XHRcdFx0XHRcdCghIXRoaXMuc2V0dGluZ3MuZm9jdXMgJiYgISFlbC5mb2N1c2FibGVDaGlsZHJlbi5sZW5ndGgpICYmIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtlbC5mb2N1c2FibGVDaGlsZHJlblswXS5mb2N1cygpO30sIDApO1xuXHRcdFx0XHRcdFx0ISF0aGlzLnNldHRpbmdzLmNhbGxiYWNrICYmIHRoaXMuc2V0dGluZ3MuY2FsbGJhY2soKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRhbmltYXRlKCk7XG5cdFx0fSxcblx0XHRkZXN0cm95KCl7XG5cdFx0XHR0aGlzLm5hdkl0ZW1zLmZvckVhY2goZWwgPT4ge1xuXHRcdFx0XHR0cmlnZ2VyRXZlbnRzLmZvckVhY2goZXYgPT4ge1xuXHRcdFx0XHRcdGVsLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldiwgZSA9PiB7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHR0aGlzLnNjcm9sbFRvKGVsKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cbmNvbnN0IGluaXQgPSAoc2VsLCBvcHRzKSA9PiB7XG5cdGxldCBlbHMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsKSk7XG5cdFxuXHRpZighZWxzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdTY3JvbGwgVG8gY2Fubm90IGJlIGluaXRpYWxpc2VkLCBubyBhdWdtZW50YWJsZSBlbGVtZW50cyBmb3VuZCcpO1xuXG5cdHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoU3Rvcm1TY3JvbGxUbyksIHtcblx0XHRET01FbGVtZW50czogZWxzLFxuXHRcdHNldHRpbmdzOiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0cylcblx0fSkuaW5pdCgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0IH07Il19
