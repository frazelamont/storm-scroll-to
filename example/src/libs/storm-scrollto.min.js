!function(t,n){"object"==typeof exports?module.exports=n():t.StormScrollTo=n()}(this,function(){"use strict";function t(t,n){var e=[].slice.call(document.querySelectorAll(t));if(0===e.length)throw new Error("ScrollTo cannot be initialised, no augmentable elements found");return i=Object.assign(Object.create(c),{DOMElements:e,settings:Object.assign({},s,n)}).init()}function n(n,e){t(n,e)}function e(){i.destroy(),i=null}var i,o=["click","keydown"],u={EASING:{easeInQuad:function(t,n,e,i){return e*(t/=i)*t+n},easeOutQuad:function(t,n,e,i){return-e*(t/=i)*(t-2)+n},easeInOutQuad:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t+n:-e/2*(--t*(t-2)-1)+n},easeInCubic:function(t,n,e,i){return e*(t/=i)*t*t+n},easeOutCubic:function(t,n,e,i){return e*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t*t+n:e/2*((t-=2)*t*t+2)+n},easeInQuart:function(t,n,e,i){return e*(t/=i)*t*t*t+n},easeOutQuart:function(t,n,e,i){return-e*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t*t*t+n:-e/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(t,n,e,i){return e*((t=t/i-1)*t*t*t*t+1)+n},easeOutQuint:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t*t*t*t+n:e/2*((t-=2)*t*t*t*t+2)+n},easeInOutQuint:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t*t*t*t+n:e/2*((t-=2)*t*t*t*t+2)+n}}},s={easing:"easeInOutCubic",speed:500,offset:0,pushState:!0,callback:null},c={init:function(){return this.initNavItems(),this.initListeners(),this},initNavItems:function(){this.navItems=this.DOMElements.map(function(t){return{node:t,target:document.querySelector(t.getAttribute("href"))||null}})},initListeners:function(){this.navItems.forEach(function(t){o.forEach(function(n){t.node.addEventListener(n,function(n){n.preventDefault(),this.scrollTo(t)}.bind(this),!1)}.bind(this))}.bind(this))},scrollTo:function(t){var n=(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),window.pageYOffset),e=t.target.offsetTop-this.settings.offset,i=e-n,o=this.settings.speed,s=function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t},c=0,r=16,a=function(){c+=r,s(u.EASING[this.settings.easing](c,n,i,o)),c<o?window.requestAnimationFrame(a.bind(this)):!!this.settings.callback&&this.settings.callback()}.bind(this);a()},destroy:function(){this.navItems.forEach(function(t){o.forEach(function(n){t.node.removeEventListener(n,this.scrollTo.bind(this))}.bind(this))}.bind(this))}};return{init:t,reload:n,destroy:e}});